:root{
  --bg:#0f1220;
  --panel:#171a2b;
  --muted:#a7b0d6;
  --text:#e8ecff;
  --brand:#7c9cff;
  --accent:#4ee0a3;
  --danger:#ff6b6b;
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --radius:16px;
}
:root.light{
  --bg:#f4f6ff;
  --panel:#ffffff;
  --muted:#5f6b8a;
  --text:#0b0f1a;
  --brand:#3366ff;
  --accent:#2ecc71;
  --danger:#ff4d4d;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  background:linear-gradient(120deg,#0d1020,#0b0f1a 60%,#0e172a);
  color:var(--text);
}
:root.light body{background:#f4f6ff}

.app{display:grid;grid-template-columns:300px 1fr;min-height:100dvh}

.sidebar{background:var(--panel);padding:20px;border-right:1px solid rgba(255,255,255,.05);display:flex;flex-direction:column;gap:16px}
.brand{font-weight:700;letter-spacing:.2px;font-size:20px}
nav{display:flex;flex-direction:column;gap:10px}
.nav-btn{background:transparent;border:1px solid rgba(255,255,255,.1);color:var(--text);padding:10px 12px;border-radius:12px;text-align:left;cursor:pointer}
.nav-btn.active,.nav-btn:hover{border-color:var(--brand);box-shadow:0 0 0 2px rgba(124,156,255,.15) inset}

.calendar-card{margin-top:8px;background:#111527;border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px}
:root.light .calendar-card{background:#eef3ff;border-color:rgba(0,0,0,.06)}
.calendar-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.calendar-header button{background:transparent;border:1px solid rgba(255,255,255,.15);color:var(--text);border-radius:10px;padding:4px 10px;cursor:pointer}
#calTitle{font-weight:600}
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
.calendar-grid .day{text-align:center;padding:8px 0;border-radius:10px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);cursor:pointer;font-size:12px}
:root.light .calendar-grid .day{background:rgba(0,0,0,.03);border-color:rgba(0,0,0,.08)}
.calendar-grid .day.muted{opacity:.45}
.calendar-grid .day.selected{outline:2px solid var(--brand)}
.calendar-grid .day.today{border-color:var(--accent)}
.calendar-grid .day .badge{display:block;margin-top:4px;font-size:10px;opacity:.8}
.calendar-legend{margin-top:8px;font-size:12px;color:var(--muted)}
.dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px;background:var(--brand)}
.dot.today{background:var(--accent)}
.dot.due{background:var(--brand)}
.sidebar-footer{margin-top:auto;color:var(--muted)}

.main{padding:28px}
.view{display:none}
.view.visible{display:block}

.view-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:14px}
.view-header .actions{display:flex;gap:10px;align-items:center}
input[type="search"]{width:260px;max-width:55vw;background:#111527;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px 12px;color:var(--text)}
:root.light input[type="search"],:root.light select,:root.light input[type="date"],:root.light input[type="time"],:root.light input[type="text"],:root.light textarea{background:#ffffff;border:1px solid rgba(0,0,0,.12);color:#111}

.primary,.secondary,.ghost{border-radius:12px;padding:10px 14px;border:1px solid transparent;cursor:pointer}
.primary{background:var(--brand);color:#fff;border-color:transparent;font-weight:600}
.secondary{background:var(--accent);color:#0b0f1a;font-weight:600}
.ghost{background:transparent;color:var(--text);border-color:rgba(255,255,255,.15)}
.ghost.xs{padding:6px 10px;border-radius:10px;font-size:12px}

.filters{display:flex;gap:10px;margin-bottom:10px;flex-wrap:wrap}
select,input[type="date"],input[type="time"],input[type="text"],textarea{background:#111527;border:1px solid rgba(255,255,255,.12);color:var(--text);border-radius:12px;padding:10px 12px;width:100%}
.row{display:flex;gap:10px}
.half{flex:1}

.task-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}
.task{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:14px;background:#111527;border:1px solid rgba(255,255,255,.08)}
:root.light .task{background:#ffffff;border-color:rgba(0,0,0,.08)}
.task-left{display:flex;gap:12px;align-items:flex-start}
.task-title{font-weight:600}
.task-meta{font-size:12px;color:var(--muted)}
.task.overdue{border-color:rgba(255,0,0,.35)}
.task.completed .task-title{text-decoration:line-through;opacity:.6}

.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin:16px 0}
.stats .card{background:#111527;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px}
:root.light .stats .card{background:#ffffff;border-color:rgba(0,0,0,.08)}
.quick-actions{display:flex;gap:10px;margin:18px 0}

dialog{border:none;border-radius:16px;padding:0;max-width:560px;width:92vw;background:#0f1324;color:var(--text);box-shadow:var(--shadow)}
dialog form{padding:18px;display:flex;flex-direction:column;gap:10px}
dialog::backdrop{background:rgba(0,0,0,.5)}
menu{display:flex;gap:10px;justify-content:flex-end;margin:4px 0 0 0;padding:0}

.notes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
.note-card{background:#111527;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px;display:flex;flex-direction:column;gap:10px}
:root.light .note-card{background:#ffffff;border-color:rgba(0,0,0,.08)}
.note-header{display:flex;justify-content:space-between;align-items:center}
.note-title{margin:0}
.note-body{white-space:pre-wrap}
.note-footer{color:var(--muted);font-size:12px}

/* Trash little tweaks */
#view-trash h3{margin:10px 0 8px}
